---
title: "Group 2"
author: "Pom"
date: "2024-02-28"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,comment=NA,attr.source='.numberLines')

rm(list=ls())
library(readr)
library(RSQLite)
library(dplyr)
```

SQL Database Schema Creation
```{r connect}
# set up the connection
my_db <- RSQLite::dbConnect(RSQLite::SQLite(),"ecommerse.db")
```

CREATE tables 
````{bash, eval=FALSE}
# link to SQL file
sqlite3 ecommerse.db < ecommerse.sql

```


Generate Synthetic Data


Select Data

```{sql connection=my_db}
SELECT * 
FROM customers
```

```{sql}
# Create Product table
CREATE TABLE IF NOT EXISTS products (
  product_id CHAR(10) PRIMARY KEY,
  seller_id CHAR(30) SECONDARY KEY,
  product_name VARCHAR(60) NOT NULL,
  product_description TEXT,
  product_color VARCHAR(60) NOT NULL,
  product_size VARCHAR(5) NOT NULL,
  product_brand VARCHAR(250),
  product_price NUMERIC NOT NUL,
  currency_code CHAR(3) NOT NULL, 
  FOREIGN KEY ('seller_id') 
    REFERENCES sellers ('seller_id'),
  FOREIGN KEY ('category_id') 
    REFERENCES category ('category_id')
);
```

```{sql}
#Create Shipper table
CREATE TABLE IF NOT EXISTS Shipper (
  ShipperID CHAR(20) PRIMARY KEY,
  Shipper_name CHAR(25) NOT NULL,
  Shipper_phone VARCHAR(25) NOT NULL,
  OrderID CHAR(20) NOT NULL,
 FOREIGN KEY ('OrderID')
	REFERENCES Order ('OrderID')
);

```

```{sql}
#Create Ads table
CREATE TABLE IF NOT EXISTS Ads (
  AdID CHAR(20) PRIMARY KEY,
  Content TEXT,
  AdClicks INT NOT NULL,
  Budget DECIMAL(10,2),
  product_id CHAR(10) NOT NULL,
  FOREIGN KEY ('product_id')
	REFERENCES Products ('product_id')
);
```

